import e from"isomorphic-unfetch";import{createClient as t}from"@supabase/supabase-js";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var n,i=function(){function t(e){this.version=void 0,this.basePath=void 0,this.defaultVersion="v1/",this.defaultBaseURL="https://api.spotbase.io/",this.authToken=void 0,this.version=e&&e.version&&e.version+"/"||this.defaultVersion,this.basePath=e&&e.basePath&&e.basePath+"/"+this.version||this.defaultBaseURL+this.version}var o=t.prototype;return o.request=function(t,o,s){var n=this.basePath+t,i={"Content-type":"application/json"};o&&(i=r({},i,{Authorization:"Bearer "+this.getAuthToken()}));var c=r({},s,{headers:i});return e(n,c).then(function(e){if(e.ok)return e.json();throw new Error(e.statusText)})},o.setAuthToken=function(e){e&&(this.authToken=e)},o.getAuthToken=function(){return this.authToken},t}(),c="project/PROJECT/addon/cms/TOKEN/",a=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var r=t.prototype;return r.getCMSConfig=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=c.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"config"))}catch(e){return Promise.reject(e)}},r.patchCMSConfig=function(e,t,r){try{if(!t||!e)return Promise.resolve("400");var o=c.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(o+"config",!0,{method:"PATCH",body:JSON.stringify(r)}))}catch(e){return Promise.reject(e)}},r.getItems=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=c.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"items"))}catch(e){return Promise.reject(e)}},r.getFields=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=c.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"fields",!0))}catch(e){return Promise.reject(e)}},r.getProgress=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=c.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"progress",!0))}catch(e){return Promise.reject(e)}},t}(i),u=t("https://yijpzmbtxcpgpswkvyfd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpanB6bWJ0eGNwZ3Bzd2t2eWZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQwOTAyNTgsImV4cCI6MjAwOTY2NjI1OH0.I66q9wcZlkYXTMN1RKB_hLorD71jWq2ehaNxjA31Imk"),h=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var r=t.prototype;return r.login=function(e,t){try{var r=this;return Promise.resolve(u.auth.signInWithPassword({email:e,password:t})).then(function(e){var t=e.data,o=e.error;t.session?r.setAuthToken(t.session.access_token):console.log(o)})}catch(e){return Promise.reject(e)}},r.logout=function(){try{return Promise.resolve(u.auth.signOut()).then(function(e){var t=e.error;200!=t.status&&console.log(t.message)})}catch(e){return Promise.reject(e)}},t}(i),p="project/PROJECT/",f=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var r=t.prototype;return r.getProjectDomains=function(e){try{if(!e)return Promise.resolve({});var t=p.replace("PROJECT",e);return Promise.resolve(this.request(t+"domains",!0))}catch(e){return Promise.reject(e)}},r.patchProjectDomains=function(e,t){try{if(!e||!t)return Promise.resolve("400");var r=p.replace("PROJECT",e);return Promise.resolve(this.request(r+"domains",!0,{method:"PATCH",body:JSON.stringify(t)}))}catch(e){return Promise.reject(e)}},r.deleteProjectDomains=function(e,t){try{if(!e||!t)return Promise.resolve("400");var r=p.replace("PROJECT",e);return Promise.resolve(this.request(r+"domains",!0,{method:"DELETE",body:JSON.stringify(t)}))}catch(e){return Promise.reject(e)}},t}(i),l=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(i);n=l,[a,h,f].forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(t){Object.defineProperty(n.prototype,t,Object.getOwnPropertyDescriptor(e.prototype,t))})});export{l as default};
//# sourceMappingURL=index.m.js.map
