!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("isomorphic-unfetch"),require("@supabase/supabase-js")):"function"==typeof define&&define.amd?define(["isomorphic-unfetch","@supabase/supabase-js"],t):(e||self).spotbaseLib2=t(e.isomorphicUnfetch,e.supabaseJs)}(this,function(e,t){function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(e);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n.apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}var u,c=function(){function e(e){this.version=void 0,this.basePath=void 0,this.defaultVersion="v1/",this.defaultBaseURL="https://api.spotbase.io/",this.authToken=void 0,this.version=e&&e.version&&e.version+"/"||this.defaultVersion,this.basePath=e&&e.basePath&&e.basePath+"/"+this.version||this.defaultBaseURL+this.version}var t=e.prototype;return t.request=function(e,t,r){var s=this.basePath+e,i={"Content-type":"application/json"};t&&(i=n({},i,{Authorization:"Bearer "+this.getAuthToken()}));var u=n({},r,{headers:i});return o.default(s,u).then(function(e){if(e.ok)return e.json();throw new Error(e.statusText)})},t.setAuthToken=function(e){e&&(this.authToken=e)},t.getAuthToken=function(){return this.authToken},e}(),a="project/PROJECT/addon/cms/TOKEN/",p=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.getCMSConfig=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=a.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"config"))}catch(e){return Promise.reject(e)}},r.patchCMSConfig=function(e,t,r){try{if(!t||!e)return Promise.resolve("400");var o=a.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(o+"config",!0,{method:"PATCH",body:JSON.stringify(r)}))}catch(e){return Promise.reject(e)}},r.getItems=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=a.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"items"))}catch(e){return Promise.reject(e)}},r.getFields=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=a.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"fields",!0))}catch(e){return Promise.reject(e)}},r.getProgress=function(e,t){try{if(!t||!e)return Promise.resolve({});var r=a.replace("PROJECT",e).replace("TOKEN",t);return Promise.resolve(this.request(r+"progress",!0))}catch(e){return Promise.reject(e)}},t}(c),h=t.createClient("https://yijpzmbtxcpgpswkvyfd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpanB6bWJ0eGNwZ3Bzd2t2eWZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQwOTAyNTgsImV4cCI6MjAwOTY2NjI1OH0.I66q9wcZlkYXTMN1RKB_hLorD71jWq2ehaNxjA31Imk"),f=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.login=function(e,t){try{var r=this;return Promise.resolve(h.auth.signInWithPassword({email:e,password:t})).then(function(e){var t=e.data,o=e.error;t.session?r.setAuthToken(t.session.access_token):console.log(o)})}catch(e){return Promise.reject(e)}},r.logout=function(){try{return Promise.resolve(h.auth.signOut()).then(function(e){var t=e.error;200!=t.status&&console.log(t.message)})}catch(e){return Promise.reject(e)}},t}(c),l="project/PROJECT/",P=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.getProjectDomains=function(e){try{if(!e)return Promise.resolve({});var t=l.replace("PROJECT",e);return Promise.resolve(this.request(t+"domains",!0))}catch(e){return Promise.reject(e)}},r.patchProjectDomains=function(e,t){try{if(!e||!t)return Promise.resolve("400");var r=l.replace("PROJECT",e);return Promise.resolve(this.request(r+"domains",!0,{method:"PATCH",body:JSON.stringify(t)}))}catch(e){return Promise.reject(e)}},r.deleteProjectDomains=function(e,t){try{if(!e||!t)return Promise.resolve("400");var r=l.replace("PROJECT",e);return Promise.resolve(this.request(r+"domains",!0,{method:"DELETE",body:JSON.stringify(t)}))}catch(e){return Promise.reject(e)}},t}(c),m=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t}(c);return u=m,[p,f,P].forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(t){Object.defineProperty(u.prototype,t,Object.getOwnPropertyDescriptor(e.prototype,t))})}),m});
//# sourceMappingURL=index.umd.js.map
